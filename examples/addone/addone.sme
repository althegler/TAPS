proc id (in inbus)
    bus idout {
        val: uint = 0;
    };
    var it: uint = 0;
{
    idout.val = inbus.val;
    it = it + 1;
}

proc addone (in inbus, const val)
    bus addout {
        val: uint = 0 ;
    };
{
    trace("input is {}", inbus.val);
    addout.val = inbus.val + val;
}

network addone_network ()
{
    instance id_inst of id(addone_inst.addout);
    instance addone_inst of addone(id_inst.idout, val: 1);
}
